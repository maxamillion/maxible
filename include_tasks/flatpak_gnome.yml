- name: RHEL Stuff
  when: ansible_distribution == 'RedHat' 
  block:
    - name: RHEL | install flatpaks
      flatpak:
        name: '{{ item }}'
        state: present
        method: user
      loop:
        - 'com.discordapp.Discord'
        - 'com.github.johnfactotum.Foliate'
        - 'org.videolan.VLC'
        - 'org.fedoraproject.MediaWriter'
        - 'org.telegram.desktop'
        - 'info.mumble.Mumble'
        - 'com.slack.Slack'
        - 'org.gnome.SoundRecorder'
        - 'org.libreoffice.LibreOffice'
        - 'org.glimpse_editor.Glimpse'
        - 'org.signal.Signal'

- name: Fedora Stuff
  when: ansible_distribution == 'Fedora' 
  block:
    - name: Fedora | install flatpaks 
      flatpak:
        name: '{{ item }}'
        state: present
        method: user
      loop:
        - 'com.discordapp.Discord'
        - 'com.github.johnfactotum.Foliate'
        - 'org.videolan.VLC'
        - 'org.telegram.desktop'
        - 'info.mumble.Mumble'
        - 'com.slack.Slack'
        - 'org.gnome.SoundRecorder'
        - 'org.glimpse_editor.Glimpse'
        - 'org.gnome.Epiphany'
        - 'org.signal.Signal'

    - name: Drop Chromium scaling config in homedir
      copy: 
        src: files/chromium-flags.conf
        dest: '~/.config/chromium-flags.conf'
